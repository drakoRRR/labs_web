<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
  <link
          rel="stylesheet"
          href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800"
  />
  <title>Order Summary</title>
  <link rel="icon" href="data:image/x-icon;base64," type="image/x-icon" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
</head>
<body class="bg-[#F8F9FB] font-sans">
<!-- Header -->
<header class="border-b border-solid border-[#E4E9F1] px-10 py-4 flex justify-between items-center bg-white">
  <div class="flex items-center gap-6">
    <div class="flex items-center gap-3">
      <div class="text-[#141C24]">
        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6">
          <path
                  d="M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z"
                  fill="currentColor"
          ></path>
        </svg>
      </div>
      <h1 class="text-lg font-bold text-[#141C24] tracking-tight">Fashion House</h1>
    </div>
    <nav class="hidden lg:flex gap-6">
      <a href="#" class="text-sm text-[#141C24] font-medium hover:text-[#3F5374]">Women</a>
      <a href="#" class="text-sm text-[#141C24] font-medium hover:text-[#3F5374]">Men</a>
      <a href="#" class="text-sm text-[#141C24] font-medium hover:text-[#3F5374]">Kids</a>
      <a href="#" class="text-sm text-[#141C24] font-medium hover:text-[#3F5374]">Beauty</a>
      <a href="#" class="text-sm text-[#141C24] font-medium hover:text-[#3F5374]">Home</a>
    </nav>
  </div>
  <div class="flex gap-4 items-center">
    <div class="relative w-64">
      <input
              type="text"
              placeholder="Search"
              class="w-full px-4 py-2 text-sm bg-[#E4E9F1] rounded-lg placeholder-[#3F5374] focus:outline-none"
      />
      <div class="absolute top-2 right-2 text-[#3F5374]">
        <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
          <path
                  d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"
          ></path>
        </svg>
      </div>
    </div>
    <button class="flex items-center justify-center w-10 h-10 bg-[#E4E9F1] rounded-full text-[#141C24]">
      <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
        <path
                d="M222.14,58.87A8,8,0,0,0,216,56H54.68L49.79,29.14A16,16,0,0,0,34.05,16H16a8,8,0,0,0,0,16h18L59.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,152,204a28,28,0,1,0,28-28H83.17a8,8,0,0,1-7.87-6.57L72.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,222.14,58.87ZM96,204a12,12,0,1,1-12-12A12,12,0,0,1,96,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,192,204Zm4-74.57A8,8,0,0,1,188.1,136H69.22L57.59,72H206.41Z"
        ></path>
      </svg>
    </button>
  </div>
</header>

<!-- Main Content -->
<main class="px-10 py-6">
  <section>
    <h2 class="text-[22px] font-bold text-[#141C24] mb-4">Order Summary</h2>
    <div id="cart-products" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Products will be injected here -->
    </div>
  </section>
  <section class="mt-8">
    <div class="flex justify-between items-center p-4 bg-white rounded-lg shadow">
      <p class="text-sm text-[#3F5374]">Subtotal:</p>
      <p id="subtotal" class="text-sm text-[#141C24] font-medium">$0.00</p>
    </div>
  </section>
  <section class="mt-6">
    <h2 class="text-[22px] font-bold text-[#141C24] mb-4">Payment Options</h2>
    <div class="flex flex-col gap-4">
      <label class="flex items-center gap-3">
        <input type="radio" name="payment-method" class="h-5 w-5" checked />
        <span class="text-sm text-[#141C24]">Credit or Debit Card</span>
      </label>
      <label class="flex items-center gap-3">
        <input type="radio" name="payment-method" class="h-5 w-5" />
        <span class="text-sm text-[#141C24]">PayPal</span>
      </label>
    </div>
  </section>
  <div class="flex justify-end mt-8">
    <button class="px-6 py-2 bg-[#F4C753] text-sm font-bold text-[#141C24] rounded-lg shadow">Place Order</button>
  </div>
</main>

<script>
  const cartData = {
    currency: "UAH",
    applyDiscounts: true,
    realtimeUpdate: true,
    products: [101, 102, 103], // Product IDs in the cart
  };

  async function loadCart() {
    try {
      const response = await fetch("http://localhost:3000/products");
      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

      const data = await response.json();

      const filteredProducts = data.filter((product) =>
              cartData.products.includes(product.id)
      );

      const cartContainer = document.querySelector("#cart-products");
      const subtotalElement = document.querySelector("#subtotal");

      let subtotal = 0;

      cartContainer.innerHTML = "";

      filteredProducts.forEach((product) => {
        subtotal += product.price;

        const productItem = document.createElement("div");
        productItem.className =
                "flex flex-col lg:flex-row gap-4 bg-white shadow rounded-lg p-4";

        productItem.innerHTML = `
        <div
          class="bg-center bg-no-repeat bg-cover rounded-lg aspect-square w-full lg:w-1/4"
          style='background-image: url("https://via.placeholder.com/150");'
        ></div>
        <div class="flex flex-1 flex-col justify-center">
          <p class="text-[#141C24] text-base font-medium">${product.name}</p>
          <p class="text-[#3F5374] text-sm font-normal">Price: $${product.price}</p>
          <p class="text-[#3F5374] text-sm font-normal">Stock: ${product.stock}</p>
        </div>
      `;

        cartContainer.appendChild(productItem);
      });

      subtotalElement.textContent = `$${subtotal.toFixed(2)}`;
    } catch (error) {
      console.error("Error loading cart:", error);

      const cartContainer = document.querySelector("#cart-products");
      cartContainer.innerHTML =
              '<p class="text-red-500">Failed to load cart items. Please try again later.</p>';
    }
  }

  document.addEventListener("DOMContentLoaded", loadCart);
</script>

</body>
</html>
